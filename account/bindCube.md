# 绑定cube

#### 功能说明

1. 一个用户支持绑定多个cube。请求参数包括用户id和cube的guid。

2. 用户和cube都没有被绑定，绑定，并返回成功

3. 用户已经绑定了别的cube，增加一个绑定关系，返回成功

4. 如果用户和cube已经是绑定关系，返回错误用户和cube已经是绑定关系，不能重复绑定4061

5. 如果cube和其它用户已经绑定，绑定失败。返回4059

6. 一次请求只能绑定一个cube，绑定多个cube需要多次绑定

7. 绑定cube时，需要用户已登录，在请求cookie中转入aat（用户的accessToken，从touch/手机获得）

#### 调用接口说明

* #### HTTP配置

| 配置项 | 取值 |
| --- | --- |
| URL | \[域名\]/cube/bindCube |
| 请求头部 | application/json |
| HTTP方式 | POST |

* #### 输入参数说明

| 参数名称 | 参数类型 | 是否必须 | 参数描述 |
| :--- | :--- | :--- | :--- |
| guid | String&lt;32&gt; | 是 | 已注册的cube的guid |
| accountId | Integer\(11\) | 是 | 用户id |

* #### HTTP 请求示例

  ```json
    {
        "guid":"3CF82C47206D4D4EA05FCA03D2CF5BF3",
        "accountId":268
    }
  ```
* #### 返回参数

无  
响应示例：

```json
{
    "code": "1",
    "note": "操作成功"
}
```

* #### 异常返回值

| 错误码 | 提示信息 | 备注 |
| :--- | :--- | :--- |
| 1000 |  |  |
| 1001 |  |  |
| 1002 | 必填参数为空 | guid或者accountId |
| 2020 | guid无效 | guid不存在 |
| 106 |  |  |
| 2010 |  |  |
| 181 |  |  |
| 4058 |  |  |
| 4059 |  |  |
| 4000 |  |  |
| 4061 |  |  |
| 4023 |  |  |
| 2010 | email状态异常 | 邮件未激活或者邮件激活链接已超时 |



