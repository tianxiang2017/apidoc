# 使用邮箱注册用户

#### 功能说明

用户使用邮箱注册时，输入邮箱后，调用获取验证码接口（/email/code）获取验证码，输入验证码后，调用此接口（/accounts/registerByEmail）完成注册（同时设置密码）

#### 调用接口说明

* #### HTTP配置

| 配置项 | 取值 |
| --- | --- |
| URL | \[域名\]/accounts/registerByEmail |
| 请求头部 | application/json;charset=utf-8 |
| HTTP方式 | POST |

* #### 输入参数说明

| 参数名称 | 参数类型 | 是否必须 | 参数描述 |
| :--- | :--- | :--- | :--- |
| email | String\(255\) | 是 | 未注册的邮箱，可使用字母、数字、下划线、横线，需以字母开头。正则表达式：^\[a-zA-Z0-9_-\]+@\[a-zA-Z0-9_-\]+\(.\[a-zA-Z0-9\_-\]+\)+$。邮箱唯一，同一个邮箱只能注册一次 |
| code | String&lt;6&gt; | 是 | 手机验证码，6位数字 |
| password | String\(32\) | 是 | 用户密码，需要先进行MD5加密 |
| confirmPassword | String\(32\) | 是 | 用户密码确认，需要先进行MD5加密。值和password一样 |

* #### HTTP 请求示例

```json
{
  "phone":"15220201523",
  "countryCode":"+86",
  "code":"875185",
  "password":"e10adc3949ba59abbe56e057f20f883e",
  "confirmPassword":"e10adc3949ba59abbe56e057f20f883e"
}
```

#### 

* #### 返回参数

  无

* #### 响应示例：

```json
{
    "code": "1",
    "note": "操作成功"
}
```

* #### 异常返回值

| 错误码 | 提示信息 | 备注 |
| --- | --- | --- |
| 3 | 必填参数为空。 | 必填参数为空，或者参数错误 |
| 4 | 参数格式错误 |  |
| 4050 | 两次密码不匹配 |  |
| 8001 | 验证码不正确（手机验证码，删掉） |  |
| 8002 | 验证码已被使用（手机验证码，删掉） |  |
| 8003 | 验证码过期 （手机验证码，删掉）|  |
| 101 | 邮件已被注册 |  |
| 6013| 邮箱验证码不正确 |  |
| 6014| 验证码已被使用 |  |
| 6015| 邮箱验证码过期 |  |




